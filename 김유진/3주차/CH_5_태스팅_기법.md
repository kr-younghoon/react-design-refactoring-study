# 📦 테스트의 중요성과 종류 정리

## ✅ 테스트가 필요한 이유

1. **코드 검증**  
   → 코드가 의도한 대로 동작하는지 확인합니다.

2. **회귀 방지**  
   → 기존 기능이 새로운 코드로 인해 깨지지 않도록 방지합니다.

3. **리팩터링과 유지보수 용이성**  
   → 안심하고 코드를 개선할 수 있게 도와줍니다.

4. **코드 품질 신뢰도 향상**  
   → 테스트가 잘 되어 있으면 코드에 대한 믿음이 생깁니다.

5. **문서화 역할**  
   → 테스트 코드를 보면 해당 함수나 컴포넌트가 어떻게 동작하는지 명확히 알 수 있습니다.

---

## 🧪 테스트의 종류

### 1. 단위 테스트 (Unit Test)

- 작은 단위의 함수, 컴포넌트 등을 독립적으로 검증
- **외부 의존성은 최대한 배제**하고, 해당 단위만 테스트
- **장점**
  - 작성 속도가 빠름
  - 다양한 케이스를 빠르게 검증 가능
  - 조기 버그 발견 가능

### 2. 통합 테스트 (Integration Test)

- 여러 단위가 **함께 잘 작동하는지** 확인
- 예: 컴포넌트 간의 데이터 전달, API 호출 처리
- **jsdom**을 활용해 브라우저 환경을 모사

### 3. E2E 테스트 (End-to-End)

- 전체 앱이 **실제 사용자 흐름대로** 잘 동작하는지 검증
- Cypress 등을 사용하여 실제 브라우저에서 실행
- 예: 로그인, 회원가입, 장바구니 담기 등 사용자 시나리오 기반

### 4. 시각적 회귀 테스트 (Visual Regression Test)

- UI 변경으로 인해 **의도치 않게 깨진 부분이 있는지** 자동으로 비교
- 예: 버튼 색상 변경, 위치 밀림 등
- Storybook 기반 시각 테스트 도구와 함께 사용 가능

### 5. 정적 검사 (Static Analysis)

- 코드를 실행하지 않고 문법과 스타일 검사
- 예: ESLint, Prettier

---

## 🔧 Jest를 이용한 단위 테스트 작성법

```ts
test('add adds numbers correctly', () => {
  expect(add(1, 2)).toBe(3);
});
```

또는 아래처럼 읽기 좋은 it 함수 사용 가능:

```ts
it('add adds numbers correctly', () => {
  expect(add(1, 2)).toBe(3);
});
```

## 🧠 BDD 스타일 (행위 주도 개발)
- 모든 사람이 테스트 내용을 쉽게 이해할 수 있도록 작성

- 자연스러운 문장 형태로 테스트를 기술

- 개발자 & 비개발자 간의 협업 증진

## 📚 테스트 그룹화: describe
- 여러 테스트를 논리적으로 그룹화하여 보기 쉽게 구성

- 중첩도 가능

```ts
describe('add 함수 테스트', () => {
  it('1 + 2는 3이어야 한다', () => {
    expect(add(1, 2)).toBe(3);
  });
});
```
