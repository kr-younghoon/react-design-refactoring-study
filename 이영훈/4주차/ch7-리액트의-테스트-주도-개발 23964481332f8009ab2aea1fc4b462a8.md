# ch7-리액트의-테스트-주도-개발

생성자: 영훈
생성 일시: 2025년 7월 23일 오전 10:31
카테고리: 패턴으로익히고설계로완성하는리액트
최종 편집자:: 영훈
최종 업데이트 시간: 2025년 7월 23일 오후 2:13

# 서론

- TDD가 필요한 이유
    - 리액트로 개발하다보면 코드가 복잡하게 꼬여버림
    - 다양한 상태를 관리하고 컴포넌트를 다루며 사용자의 상호작용을 수월하게 하는 등 여러 작업을 진행하면서 안정적인 코드베이스를 유지하는 것은 쉽지 않은 일
    - 기능이 계속해서 추가, 수정되며 끊임없이 변화하는 소프트웨어 개발환경에서 TDD는 버그와 기능회귀의 함정을 피할 수 있게 가이드를 해준다
    - 실제 코드를 구현하기 전에 테스트코드를 먼저 작성하면 코드가 제대로 구현되었는지 확인할 수 있고, 미래의 코드 변경으로 인한 위험을 줄일수 있다
- 배울 것
    - TDD를 깊게 이해하고 리액트 애플리케이션에 효과적으로 적용하는 방법에 대해 알아볼 것이다.
    - TDD 핵심원칙
    - 단위 테스트 주도 개발 / 인수테스트 주도 개발 / 행위 테스트 주도 개발 같은 다양한 방식 뿐만 아니라 런던, 시카고 스타일로 나뉘는 TDD 방법론의 미묘한 차이까지 살펴보자
    - 실제 예제 코드인 피자 가게 메뉴 페이지를 통해 배웠던 개념들을 확인해본다.
    - 초기 구조를 세우는 것부터 복잡한 기능 유지까지, 단계마다 TDD를 통한 접근 방식을 밟아 나간다.

# 7.1 TDD 이해하기

- TDD는 새로운 개념이 아니다.
- TDD의 핵심에는 레드-그린-리팩터 루프 라 불리는 매우 간단하지만 효과적인 사이클이 있다.
    - 레드 : 이 단계에서는 새로운 기능, 기능의 수정 사항을 확인하기 위한 테스트를 작성한다. 아직 기능 구현이 되지 않은 상태에서 작성하기 때문에 초기에 실패할 수 밖에 없다. Jest 와 같은 대부분의 테스트 프레임워크에서는 붉은색 텍스트로 실패를 표시합니다
    - 그린 : 이 단계에서는 테스트를 통과시키기 위한 최소한의 코드를 작성합니다. 되도록 적은 코드를 작성하여 테스트를 통과하고, 텍스트를 녹색으로 바꾸는 것으로 충분합니다.
    - 리팩터 : 마지막으로 기능 동작을 유지하면서 코드를 정리합니다. 리팩터 단계에서는 기능을 그대로 유지하면서 코드의 효율성과 가독성을 높이는 작업을 진행합니다. 리팩터링이 완료된 후에 테스트는 통과해야만 합니다.
- TDD 를 처음 접한다면.. 낯설게 느껴지겠지만, 감수할만한 장점이 있습니다!
    - 집중적으로 문제 해결 : 특정 기능에 대한 테스트를 먼저 작성함으로써 한번에 하나의 문제만 집중하고 개발 부담을 덜 수 있습니다.
    - 예측 가능한 다음 단계 : 테스트 주도 방식을 따르면, 다음 단계에서 해야 할 일은 늘 정해져 있습니다. 바로 테스트를 통과하는 것. 이는 인지부하를 줄여 직면한 작업 자체에 집중할 수 있게 합니다.
    - 단순하고 유지보수하기 쉬운 설계: 이 과정은 테스트를 통과하는데 필요한 가장 단순한 코드를 작성하게 합니다. 최소한의 설계를 구성하므로 이해하고 유지보수하기 쉽습니다.
    - 사고 흐름 유지 : TDD는 코딩에 대한 구조화된 접근 방식으로 사고의 흐름을 유지하게 합니다. 이는 생산적인 코딩의 흐름을 방해하는 잦은 컨텍스트 전환을 줄여주어 하나의 작업에만 집중할 수 있게 도와줍니다.
    - 자동화된 테스트 커버리지 : TDD는 애플리케이션이 탄탄한 테스트 커버리지를 이미 가지고 있음을 보장합니다. 테스트를 작업 이후에 추가하는게 아니라 개발 과정에 포함되어 있기 때문에 , 보다 안정적인 코드 베이스를 만듭니다.

## 7.1.1 여러 종류의 TDD

- 기본 TDD
    - 단위 테스트에 집중
        - 개별함수나 메서드와 같은 가장 작은 단위의 코드의 테스트를 작성
        - 코드 베이스의 각 부분들이 격리된 상태에서 잘 동작하는지를 확인하는 것이 목표
        - 로직과 알고리즘을 테스트하기에는 강력.. but… 리액트 같은 복잡한 프레임웤에서는 여러부분이 어떻게 상호작용하는지 찾기 어려움
- ATDD(Acceptance Test Driven Development)
    - 사용자 승인 테스트로 개발 과정을 시작하는 것을 추가하여 TDD를 확장한 것
    - 어떤 코드를 작성하기 전에 이해관계자들과 협업하여 사용자 관점에서 완료 상태를 정의
    - 이러한 승인테스트는 이후 기능 개발의 기초 자료로 활용한다.
    - 특히 사용자가 원하는 것과 요구하는 사항들을 확실하게 반영할 수 있는 방법이다
    - 예시
        - 사용자 승인 테스트를 작성할 때 작은 단위 테스트 단위로 나눌 수 있다.
            - 사용자가 시스템에 로그인하는 것은 사용자 승인 테스트의 범주이지만 비밀번호 분실, 잘못된 비밀번호, 사용자명, 로그인 유지하기 등과 같은 기능들은 하위 레벨의 단위테스트를 통해 다루어야함
- BDD(Behavior-Driven-Development)
    - 애플리케이션에 주어지는 입력에 대한 반응에 주목한다.
    - 특정 메서드가 기대하는 결괏값을 반환하는지 체크하는 테스트를 작성하기보다 BDD 테스트는 시스템이 특정 조건에서 예상한 대로 동작하는지를 확인한다
    - BDD는 테스트를 정의하는데보다 서술적인 언어를 사용하여 이해관계자 중 비개발자도 쉽게 이해할 수 있게 한다
    - BDD눈 Cucumber 라는 도구를 사용하여 일반인이 읽을 수 있는 형태로 상세한 스펙에 대해 정의합니다.
    - Cucumber 테스트에서는 Gherkin이라고 부르는 자연어와 유사한 형태의 텍스트를 사용합니다.
    - 피자 주문 기능에 대해 Cucumber 프레임워크를 사용하여 BDD 테스트 케이스를 작성한 예제 → (생략)

## 7.1.2 사용자 가치에 집중하기

- 소프트웨어를 사용하는 방식을 닮은 테스트 일수록 더 좋은 테스트
- 이 원칙은 사용한느 프레임웤이나 라이브러리의 종류와 상관없이 적용할 수 있다.
- 항상 사용자 경험에 집중해야 한다.

# 7.2 태스킹 이해하기

- 태스킹(Tasking)은 TDD 과정의 꼭 필요한 단계
- 태스킹의 목적 : 코드로 무엇을 작성할지, 어떻게 테스트할지, 어떤 순서로 진행할지를 분명히 결정하는데 있습니다.
- 큰 요구사항을 작은 단위로 쪼개면 여러가지 장점이 있다
    - 명확해지는 범위 : 기능을 태스크로 나누면 무엇을 완료해야 하는지, 어떤 방법으로 접근할지 이해하기 쉬워진다
    - 문제의 단순화 : 복잡한 문제를 작은 태스크로 나누면 다루기 용이합니다.
    - 우선순위 결정 : 태스크가 나뉘면, 중요도와 논리적 구축에 따라 작업의 우선순위를 정할 수 있습니다.
    - 개별 작업에 집중 : 태스킹은 작성하는 테스트가 명확하고 즉각적인 목적을 수행하도록 보장하여 TDD 사이클을 보다 효율적으로 만들어줍니다.
    - 협업증대 : 팀원들은 개별 태스크를 맡아 작업을 할수있다. 이 때 모든 작업이 큰 단위 기능으로 결합되어 기여한다는 점을 알고 각자 작업을 진행할 수 있습니다.
- 태스크는 어떻게 하는 것일까
    - 사용자 스토리와 요구사항 검토
    - 논리적인 구성 요소 식별
    - 태스크 목록 작성
    - 태스크 순서 배열
    - 태스크를 테스트로 처리

# 7.3 온라인 피자 가게 애플리케이션

> 생략
> 

# 7.4 애플리케이션 요구사항 세분화

> 생략
> 

# 7.5 애플리케이션 헤드라인 구현

> 생략
> 

# 7.6 메뉴 목록 구현

> 생략
> 

# 7.7 장바구니 만들기

> 생략
> 

# 7.8 장바구니에 아이템 담기

> 생략
> 

# 7.9 애플리케이션 리팩터링

> 생략
>