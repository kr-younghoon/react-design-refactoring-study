# ch10-합성-패턴

생성자: 영훈
생성 일시: 2025년 8월 20일 오후 6:04
카테고리: 패턴으로익히고설계로완성하는리액트
최종 편집자:: 영훈
최종 업데이트 시간: 2025년 8월 20일 오후 8:49

# 개요

확장과 유지보수가 쉬운 UI를 만드는 일은 생각보다 까다롭다. 개발자가 가장 먼저 직면하게 되는 문제는 코드베이스가 커져도 모듈화된 구조를 유지하여 재사용성과 가독성을 확보하는 것이다. 컴포넌트가 서로 얽히고 결합된 구조 일수록, 유지보수와 테스트가 까다로울 뿐만 아니라 새 팀원이 프로젝트에 적응하는 데에도 시간이 걸린다.

합성은 이러한 문제를 해결하기 위해 체계적이고 확장 가능하며 깔끔한 코드베이스를 만들 수 있게 해주는 강력한 기술입니다. 하나의 거대한 컴포넌트에 여러 가지 기능을 만들지 않고 작고 다루기 편한 조각으로 분리하여 다양한 방법으로 이를 조합할 수 있습니다. 이러한 접근 방식은 로직을 간소화하고 재사용성을 향상시키며 관심사를 명확하게 분리할 수 있습니다.

이번 장에서는 합성을 이해합니다. 고차 컴포넌트의 훅을 다루기 전에 고차 함수와 같은 기반 기술에 대해 알아봅니다.

이 기술들이 어떻게 합성 원칙과 자연스럽게 이어지는지를 배우면서 더욱 강력한 리액트 애플리케이션을 구축할 수 있습니다. 이후 UI없이 로직만을 별도로 분리하여 압도적 유연성을 제공하는 헤드리스 컴포넌트에 대해 깊이있게 알아봅니다.

# 10.1 고차 컴포넌트를 통한 합성의 이해

합성은 소프트웨어 설계 전반에서 가장 중요한 기술 중 하나이며, 다양한 수준에서 적용할 수 있습니다.

고차 함수에 대해 알아보고, 이를 활용하여 리액트에서 합성을 구현하는 고차 컴포넌트에 대해 살펴봅니다.

## 10.1.1 고차 함수

고차 함수는 다른 함수를 인자로 받거나, 함수를 반환하거나 또는 2가지 특징을 모두 가진 함수를 의미합니다. 함수를 매개변수로 받을 수 있다는 것은 많은 장점이 있으며, 특히 합성을 할 때 유리합니다.

(고차 함수에 대한 예시)

기능을 추가하는 컴포넌트는 표준함수로만 구현할 수 있는 것은 아닙니다. 리액트에서는 고차 컴포넌트를 통해 이를 구현할 수 있다

## 10.1.2 고차 컴포넌트

HOC(High order components)는 컴포넌트를 전달받아 새로운 개선된 버전의 컴포넌트를 반환하는 함수입니다. HOC 의 원리는 단순하다. 기존 컴포넌트에 기능을 추가할 수 있도록 하는 것이다. 이 패턴은 특정 기능을 여러 컴포넌트에 재사용하고자 할 때 특히 유용합니다.

## 10.1.3 ExpandablePanel 컴포넌트 구현하기

# 10.2 리액트 훅

훅은 상태가 있는 로직을 컴포넌트에서 분리할 수 있게 하여 독립적인 테스팅과 재사용을 가능하게 해준다. 컴포넌트 구조를 바꾸지 않고도 상태가 있는 로직을 재사용할 수 있게 합니다. 기본적으로 훅을 사용하면 함수 컴포넌트에서 리액트의 상태 또는 기타 생명주기 기능들을 연동할 수 있습니다.

훅은 재사용이 가능한 로직을 포함하여 컴포넌트와 분리되어 있지만 쉽게 결합할 수 있습니다. HOC를 통해 감싸는 접근법과 달리 혹은 플러그인 형태의 방식을 제공하여 리액트를 통해 가벼운 형태로 관리하기 쉽습니다. 이러한 훅의 특성은 코드 모듈화를 쉽게 해줄 뿐만 아니라, 보다 깔끔하고 직관적인 형태로 컴포넌트의 기능을 덧붙일 수 있게 해줍니다.쉽게 

훅은 생각보다 다양한 기능을 제공합니다. UI와 관련되 상태를 관리하는 것 뿐만 아니라, 데이터를 가져오거나 페이지 단위의 키보드 단축키 처리와 같은 전역 이벤트 핸들링 등 UI 의 부수 효과를 다룰 떄도 사용합니다. 앞서 키보드 이벤트를 다룰 떄 어떤 방식으로 사용하는지를 확인했습니다. 이제 훅을 통해 네트워크 요청을 어떻게 간소화하는지 알아봅니다.

## 10.2.1 원격 데이터 가져오기

## 10.2.2 깔끔하고 재사용성을 높이는 리팩터링

# 10.3 드롭다운 목록 컴포넌트 만들기

# 10.4 헤드리스 컴포넌트 패턴

로직·상태만 제공하고 UI는 직접 렌더링하는 패턴.

- 쓰면 좋은 때: 디자인이 자주 바뀜, 여러 스킨에서 재사용, 접근성 규칙 표준화 필요.
- 피할 때: UI가 고정, 팀이 추상화에 익숙치 않음, 커스텀 요구가 거의 없음.